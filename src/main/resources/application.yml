server:
  servlet:
    context-path: /
  port: ${APP_PORT:8901}
 
spring:
  application:
    name: ${APP_NAME:apoiador-requisitante}
    version: 0.0.1
  jackson:
    serialization:
      WRITE_DATES_AS_TIMESTAMPS: false
  rabbitmq:
    host: ${RABBITMQ_HOST:localhost}
    virtual-host: ${RABBIT_VHOST:/}
    username: ${RABBIT_USERNAME:guest}
    password: ${RABBIT_PASSWORD:guest}
    connection-timeout: 1000ms
    listener:
      simple:
        prefetch: ${RABBIT_PREFETCH:20}
        concurrency: ${RABBIT_CONCURRENCY:3}
        max-concurrency: ${RABBIT_MAX_CONCURRENCY:10}
    template:
      default-receive-queue: ${RABBIT_QUEUE:apoiador-requisitante.queue}
      exchange: ${RABBIT_EXCHANGE:dev-platform.exchange}
      custom:
        # TODO - migrar esta queue para um novo servico separado deste daqui - pre-requisito: o clientejira deve estar separado em um servico fora deste aqui
        classification-queue: 
          name: ${RABBIT_SUPEREPICTHEME_QUEUE:super-epic-theme.queue}
          auto-startup: ${RABBIT_SUPEREPICTHEME_QUEUE_AUTOSTARTUP:false}
        commit-script-queue:
          name: ${RABBIT_COMMIT_SCRIPT_QUEUE:commit-script.queue}
          auto-startup: ${RABBIT_COMMIT_SCRIPT_QUEUE_AUTOSTARTUP:false}
        gitflow-queue: 
          name: ${RABBIT_GITFLOW_QUEUE:gitflow-queue}
          auto-startup: ${RABBIT_GITFLOW_QUEUE_AUTOSTARTUP:false}
          
        lanver01-triage-queue:
          name: ${RABBIT_LANVER01_TRIAGE_QUEUE:lanver01-triage-queue}
          auto-startup: ${RABBIT_LANVER01_TRIAGE_QUEUE_AUTOSTARTUP:false}
          routing-key-created: ${RABBIT_LANVER01_TRIAGE_JIRA_ISSUE_CREATED_ROUTINGKEY_PREFIX:dev-platform.jira.ISSUE_CREATED.*.10200.1.#}
          routing-key-updated: ${RABBIT_LANVER01_TRIAGE_JIRA_ISSUE_UPDATED_ROUTINGKEY_PREFIX:dev-platform.jira.ISSUE_UPDATED.*.10200.1.#}
        lanver02-release-candidate-queue:
          name: ${RABBIT_LANVER02_CREATE_RELEASE_CANDIDATE_QUEUE:lanver02-release-candidate-queue}
          auto-startup: ${RABBIT_LANVER02_CREATE_RELEASE_CANDIDATE_QUEUE_AUTOSTARTUP:false}
          routing-key-updated: ${RABBIT_LANVER02_CREATE_RELEASE_CANDIDATE_JIRA_ISSUE_UPDATED_ROUTINGKEY_PREFIX:dev-platform.jira.ISSUE_UPDATED.*.10200.10671.#}
        lanver03-next-version-queue:
          name: ${RABBIT_LANVER03_PREPARE_NEXT_VERSION_QUEUE:lanver03-prepare-next-version-queue}
          auto-startup: ${RABBIT_LANVER03_PREPARE_NEXT_VERSION_QUEUE_AUTOSTARTUP:false}
          routing-key-updated: ${RABBIT_LANVER03_PREPARE_NEXT_VERSION_JIRA_ISSUE_UPDATED_ROUTINGKEY_PREFIX:dev-platform.jira.ISSUE_UPDATED.*.10200.10672.#}
        lanver04-release-notes-queue:
          name: ${RABBIT_LANVER04_CREATE_RELEASE_NOTES_QUEUE:lanver04-release-notes-queue}
          auto-startup: ${RABBIT_LANVER04_CREATE_RELEASE_NOTES_QUEUE_AUTOSTARTUP:false}
          routing-key-updated: ${RABBIT_LANVER04_CREATE_RELEASE_NOTES_JIRA_ISSUE_UPDATED_ROUTINGKEY_PREFIX:dev-platform.jira.ISSUE_UPDATED.*.10200.10670.#}
        lanver05-version-launch-queue:
          name: ${RABBIT_LANVER05_PROCESS_RELEASE_NOTES_QUEUE:lanver05-version-launch-queue}
          auto-startup: ${RABBIT_LANVER05_PROCESS_RELEASE_NOTES_QUEUE_AUTOSTARTUP:false}
          routing-key-updated: ${RABBIT_LANVER05_PROCESS_RELEASE_NOTES_JIRA_ISSUE_UPDATED_ROUTINGKEY_PREFIX:dev-platform.jira.ISSUE_UPDATED.*.10200.10572.#}
        lanver06-publish-release-notes-queue:
          name: ${RABBIT_LANVER06_PUBLISH_RELEASE_NOTES_QUEUE:lanver06-publish-release-notes-queue}
          auto-startup: ${RABBIT_LANVER06_PUBLISH_RELEASE_NOTES_QUEUE_AUTOSTARTUP:false}
          routing-key-updated: ${RABBIT_LANVER06_PUBLISH_RELEASE_NOTES_JIRA_ISSUE_UPDATED_ROUTINGKEY_PREFIX:dev-platform.jira.ISSUE_UPDATED.*.10200.10673.#}

        documentation01-triage-queue:
          name: ${RABBIT_DOCUMENTATION01_TRIAGE_QUEUE:documentation01-triage-queue}
          auto-startup: ${RABBIT_DOCUMENTATION01_TRIAGE_AUTOSTARTUP:false}
          routing-key-created: ${RABBIT_DOCUMENTATION01_TRIAGE_JIRA_ISSUE_CREATED_ROUTINGKEY_PREFIX:dev-platform.jira.ISSUE_CREATED.*.*.1.PJEDOC.#}
          routing-key-updated: ${RABBIT_DOCUMENTATION01_TRIAGE_JIRA_ISSUE_UPDATED_ROUTINGKEY_PREFIX:dev-platform.jira.ISSUE_UPDATED.*.*.1.PJEDOC.#}
        documentation02-create-solution-queue:
          name: ${RABBIT_DOCUMENTATION02_CREATE_SOLUTION_QUEUE:documentation02-create-solution-queue}
          auto-startup: ${RABBIT_DOCUMENTATION02_CREATE_SOLUTION_AUTOSTARTUP:false}
          routing-key-updated: ${RABBIT_DOCUMENTATION02_CREATE_SOLUTION_JIRA_ISSUE_UPDATED_ROUTINGKEY_PREFIX:dev-platform.jira.ISSUE_UPDATED.*.*.10674.PJEDOC.#}
        documentation03-check-automatic-merge:
          name: ${RABBIT_DOCUMENTATION03_CHECK_AUTOMATIC_MERGE_QUEUE:documentation03-check-automatic-merge-queue}
          auto-startup: ${RABBIT_DOCUMENTATION03_CHECK_AUTOMATIC_MERGE_AUTOSTARTUP:false}
          routing-key-updated: ${RABBIT_DOCUMENTATION03_CHECK_AUTOMATIC_MERGE_JIRA_ISSUE_UPDATED_ROUTINGKEY_PREFIX:dev-platform.jira.ISSUE_UPDATED.*.*.10480.PJEDOC.#}
          
          
        jira:
          issue-created:
            routing-key: ${RABBIT_JIRA_ISSUE_CREATED_ROUTINGKEY_PREFIX:dev-platform.jira.ISSUE_CREATED.#}
          issue-updated:
            routing-key: ${RABBIT_JIRA_ISSUE_UPDATED_ROUTINGKEY_PREFIX:dev-platform.jira.ISSUE_UPDATED.#}
        gitlab:
          push:
            routing-key: ${RABBIT_GITLAB_PUSH_ROUTINGKEY_PREFIX:dev-platform.gitlab.PUSH}
          tag-push:
            routing-key: ${RABBIT_GITLAB_TAGPUSH_ROUTINGKEY_PREFIX::dev-platform.gitlab.TAG_PUSH}
        
springfox:
  documentation:
    swagger:
      v2:
        path: /api-docs

clients:
  jira:
    url: ${SERVICE_JIRA_URL:my-jira-url}
    user: ${SERVICE_JIRA_USER:my-user}
    pass: ${SERVICE_JIRA_PASSWORD:my-pass}
  slack:
    url: https://slack.com/api/
    token: ${SERVICE_SLACK_TOKEN:my-slack-bot-token}
  gitlab:
    url: ${SERVICE_GITLAB_URL:my-gitlab-url}
    token: ${SERVICE_GITLAB_TOKEN:my-gitlab-token}
  telegram:
    url: https://api.telegram.org/
    token: ${SERVICE_TELEGRAM_TOKEN:my-telegram-bot-token}

project:
  documentation.url: ${PROJECT_DOCUMENTATION_URL:my-documentation-url}
  telegram.channel:
    name: ${PROJECT_TELEGRAM_CHANNEL_NAME:my-telegram-channel-name}
    url: ${PROJECT_TELEGRAM_CHANNEL_URL:my-telegram-channel-url}
    triage-bot-id: ${PROJECT_TELEGRAM_TRIAGE_BOT_CHANNEL_ID:my-telegram-triage-bot-channel-id}
